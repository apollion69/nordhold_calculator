(function(){"use strict";self.onmessage=async a=>{const t=a.data;if(!(!t||t.type!=="evaluate"))try{const e=await fetch("/api/v1/timeline/evaluate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.payload)});if(!e.ok){const r=await e.text();throw new Error(r||`HTTP ${e.status}`)}const s={type:"result",payload:await e.json()};self.postMessage(s)}catch(e){const s={type:"error",error:e instanceof Error?e.message:String(e)};self.postMessage(s)}}})();
